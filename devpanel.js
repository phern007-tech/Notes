(function(){'use strict';if(document.getElementById('devtools-panel'))return;const style=document.createElement('style');style.textContent=`.devtools-panel{position:fixed;top:0;left:0;width:30%;height:100vh;background:#2d2d2d;color:#e0e0e0;font-family:Consolas,Monaco,monospace;z-index:2147483647;display:flex;flex-direction:column;box-shadow:2px 0 8px rgba(0,0,0,0.5);resize:horizontal;min-width:250px;max-width:80%;overflow:hidden}.devtools-panel.light-theme{background:#f5f5f5;color:#333}.tab-bar-container{display:flex;flex-direction:column;border-bottom:1px solid #444}.light-theme .tab-bar-container{border-bottom:1px solid #ccc}.tab-bar{display:flex;background:#3c3c3c;padding:0 4px;gap:2px;min-height:32px;align-items:center}.light-theme .tab-bar{background:#e0e0e0}.tab{padding:6px 12px;cursor:pointer;font-size:13px;border-radius:4px 4px 0 0;user-select:none;white-space:nowrap;position:relative}.tab.active{background:#1e1e1e;color:white}.light-theme .tab.active{background:white;color:#333;border:1px solid #ccc;border-bottom:none}.tab .close-tab{margin-left:6px;opacity:0.6;font-weight:bold}.tab .close-tab:hover{opacity:1}.add-tab-btn{padding:0 8px;cursor:pointer;color:#aaa;font-weight:bold}.add-tab-btn:hover{color:white}.light-theme .add-tab-btn:hover{color:#333}.panel-content{flex:1;padding:12px;overflow-y:auto;background:#1e1e1e;display:none}.panel-content.active{display:block}.light-theme .panel-content{background:white}.editable-panel{width:100%;height:100%;background:transparent;color:inherit;border:none;outline:none;resize:none;font:inherit;padding:0}.theme-toggle{position:absolute;top:8px;right:8px;background:none;border:none;color:#aaa;cursor:pointer;font-size:16px}.theme-toggle:hover{color:white}.light-theme .theme-toggle:hover{color:#333}.splitter{height:6px;width:100%;background:#444;cursor:row-resize;flex-shrink:0}.light-theme .splitter{background:#ccc}`;document.head.appendChild(style);const panel=document.createElement('div');panel.id='devtools-panel';panel.className='devtools-panel';panel.innerHTML=`<button class="theme-toggle">ðŸŒ“</button><div class="top-section"><div class="tab-bar-container"><div class="tab-bar top-tabs"></div></div><div class="top-panels"></div></div><div class="splitter" draggable="true"></div><div class="bottom-section"><div class="tab-bar-container"><div class="tab-bar bottom-tabs"></div></div><div class="bottom-panels"></div></div>`;document.body.style.marginLeft='30%';document.body.style.transition='margin-left 0.3s ease';document.body.appendChild(panel);let startY,topHeight=50;const splitter=panel.querySelector('.splitter');splitter.addEventListener('mousedown',(e)=>{e.preventDefault();startY=e.clientY;const onMouseMove=(ev)=>{const dy=ev.clientY-startY;const newTop=topHeight+dy;const minTop=60,maxTop=panel.clientHeight-60;if(newTop>=minTop&&newTop<=maxTop){topHeight=newTop;panel.querySelector('.top-section').style.height=topHeight+'px';panel.querySelector('.bottom-section').style.height=(panel.clientHeight-topHeight-6)+'px';}};const onMouseUp=()=>{document.removeEventListener('mousemove',onMouseMove);document.removeEventListener('mouseup',onMouseUp);};document.addEventListener('mousemove',onMouseMove);document.addEventListener('mouseup',onMouseUp);});const state={topTabs:[{id:'t1',title:'Elements',content:'Top content...'}],bottomTabs:{'t1':[{id:'b1',title:'Styles',content:'Bottom content for Elements...'}]},activeTop:'t1',activeBottom:'b1',maxTabs:5};const renderTopTabs=()=>{const bar=panel.querySelector('.top-tabs');bar.innerHTML='';state.topTabs.forEach(tab=>{const el=document.createElement('div');el.className=`tab ${tab.id===state.activeTop?'active':''}`;el.dataset.id=tab.id;el.innerHTML=`<span class="tab-title">${tab.title}</span><span class="close-tab">Ã—</span>`;bar.appendChild(el);});const add=document.createElement('div');add.className='add-tab-btn';add.textContent='+';if(state.topTabs.length<state.maxTabs)add.onclick=addTopTab;bar.appendChild(add);};const renderBottomTabs=()=>{const bar=panel.querySelector('.bottom-tabs');bar.innerHTML='';const currentBottomTabs=state.bottomTabs[state.activeTop]||[];currentBottomTabs.forEach(tab=>{const el=document.createElement('div');el.className=`tab ${tab.id===state.activeBottom?'active':''}`;el.dataset.id=tab.id;el.innerHTML=`<span class="tab-title">${tab.title}</span><span class="close-tab">Ã—</span>`;bar.appendChild(el);});const add=document.createElement('div');add.className='add-tab-btn';add.textContent='+';if(currentBottomTabs.length<state.maxTabs)add.onclick=addBottomTab;bar.appendChild(add);};const renderTopPanels=()=>{const container=panel.querySelector('.top-panels');container.innerHTML='';state.topTabs.forEach(tab=>{const pan=document.createElement('div');pan.className=`panel-content ${tab.id===state.activeTop?'active':''}`;const txt=document.createElement('textarea');txt.className='editable-panel';txt.value=tab.content;txt.oninput=(e)=>tab.content=e.target.value;pan.appendChild(txt);container.appendChild(pan);});};const renderBottomPanels=()=>{const container=panel.querySelector('.bottom-panels');container.innerHTML='';const currentBottomTabs=state.bottomTabs[state.activeTop]||[];currentBottomTabs.forEach(tab=>{const pan=document.createElement('div');pan.className=`panel-content ${tab.id===state.activeBottom?'active':''}`;const txt=document.createElement('textarea');txt.className='editable-panel';txt.value=tab.content;txt.oninput=(e)=>{const btabs=state.bottomTabs[state.activeTop]||[];const t=btabs.find(x=>x.id===tab.id);if(t)t.content=e.target.value;};pan.appendChild(txt);container.appendChild(pan);});};const addTopTab=()=>{const id='t'+Date.now();state.topTabs.push({id,title:'New Tab',content:''});state.bottomTabs[id]=[{id:'b'+Date.now(),title:'Sub Tab 1',content:'Start here...'}];state.activeTop=id;state.activeBottom=state.bottomTabs[id][0].id;renderAll();};const addBottomTab=()=>{const current=state.bottomTabs[state.activeTop];if(!current||current.length>=state.maxTabs)return;const id='b'+Date.now();current.push({id,title:'New Sub Tab',content:''});state.activeBottom=id;renderAll();};const deleteTopTab=(id)=>{if(state.topTabs.length<=1)return;state.topTabs=state.topTabs.filter(t=>t.id!==id);delete state.bottomTabs[id];state.activeTop=state.topTabs[0].id;state.activeBottom=(state.bottomTabs[state.activeTop]||[])[0]?.id||'';renderAll();};const deleteBottomTab=(id)=>{const current=state.bottomTabs[state.activeTop];if(!current||current.length<=1)return;state.bottomTabs[state.activeTop]=current.filter(t=>t.id!==id);state.activeBottom=current[0]?.id||'';renderAll();};const renderAll=()=>{renderTopTabs();renderBottomTabs();renderTopPanels();renderBottomPanels();panel.querySelector('.top-section').style.height=topHeight+'px';panel.querySelector('.bottom-section').style.height=(panel.clientHeight-topHeight-6)+'px';};panel.onclick=(e)=>{if(e.target.classList.contains('close-tab')){const tabEl=e.target.closest('.tab');const section=tabEl.closest('.tab-bar').classList.contains('top-tabs')?'top':'bottom';const id=tabEl.dataset.id;if(section==='top'){if(confirm('Delete top tab?'))deleteTopTab(id);}else{if(confirm('Delete bottom tab?'))deleteBottomTab(id);}return;}if(e.target.classList.contains('tab')){const section=e.target.closest('.tab-bar').classList.contains('top-tabs')?'top':'bottom';const id=e.target.dataset.id;if(section==='top'){state.activeTop=id;state.activeBottom=(state.bottomTabs[id]||[])[0]?.id||'';}else{state.activeBottom=id;}renderAll();return;}if(e.target.classList.contains('theme-toggle')){panel.classList.toggle('light-theme');}};renderAll();})();
